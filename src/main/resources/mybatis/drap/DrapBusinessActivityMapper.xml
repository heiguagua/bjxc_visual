<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.chinawiserv.dsp.dir.mapper.drap.DrapBusinessActivityMapper">

    <!-- 开启二级缓存 -->
    <cache type="org.mybatis.caches.ehcache.LoggingEhcache"/>

    <!-- 通用查询映射结果 -->
    <resultMap id="BaseResultMap" type="com.chinawiserv.dsp.dir.entity.po.drap.DrapBusinessActivity">
        <id column="id" property="id"/>
        <result column="region_code" property="regionCode"/>
        <result column="belong_dept" property="belongDept"/>
        <result column="category" property="category"/>
        <result column="activity_code" property="activityCode"/>
        <result column="handle_basis" property="handleBasis"/>
        <result column="activity_desc" property="activityDesc"/>
        <result column="activity_name" property="activityName"/>
        <result column="extend_code" property="extendCode"/>
        <result column="short_name" property="shortName"/>
        <result column="fid" property="fid"/>
        <result column="parent_guid_activity" property="parentGuidActivity"/>
        <result column="function_keywords" property="functionKeywords"/>
        <result column="is_run" property="isRun"/>
        <result column="service_target" property="serviceTarget"/>
        <result column="legal_deploy_dept" property="legalDeployDept"/>
        <result column="actual_deploy_dept" property="actualDeployDept"/>
        <result column="is_cooperate_business" property="isCooperateBusiness"/>
        <result column="handle_condition" property="handleCondition"/>
        <result column="handle_result" property="handleResult"/>
        <result column="validity_from" property="validityFrom"/>
        <result column="validity_end" property="validityEnd"/>
        <result column="is_in_gc" property="isInGc"/>
        <result column="handle_method" property="handleMethod"/>
        <result column="is_open" property="isOpen"/>
        <result column="charge_standard" property="chargeStandard"/>
        <result column="handle_address" property="handleAddress"/>
        <result column="legal_time_limit" property="legalTimeLimit"/>
        <result column="promise_time_limit" property="promiseTimeLimit"/>
        <result column="handler" property="handler"/>
        <result column="handler_phone" property="handlerPhone"/>
        <result column="supervise_phone" property="supervisePhone"/>
        <result column="handle_online" property="handleOnline"/>
        <result column="online_address" property="onlineAddress"/>
        <result column="handle_online_desc" property="handleOnlineDesc"/>
        <result column="handle_program" property="handleProgram"/>
        <result column="handle_flowsheet" property="handleFlowsheet"/>
        <result column="year_business_volume" property="yearBusinessVolume"/>
        <result column="order_by" property="orderBy"/>
        <result column="is_show" property="isShow"/>
        <result column="code_index" property="codeIndex"/>
        <result column="status" property="status"/>
        <result column="create_user_id" property="createUserId"/>
        <result column="create_time" property="createTime"/>
        <result column="update_user_id" property="updateUserId"/>
        <result column="update_time" property="updateTime"/>
        <result column="delete_flag" property="deleteFlag"/>
        <result column="tree_index" property="treeIndex"/>
        <result column="tree_code" property="treeCode"/>
        <result column="audit_time" property="auditTime"/>
	    <result column="audit_opinion" property="auditOpinion"/>
	    <result column="auditor" property="auditor"/>
    </resultMap>

    <resultMap id="BaseResultVoMap" extends="BaseResultMap"
               type="com.chinawiserv.dsp.dir.entity.vo.drap.DrapBusinessActivityVo">

    </resultMap>

    <!-- 通用查询过滤条件 -->
    <sql id="queryConditions">
        <where>
            <if test="id != null">
                t.id = #{id,jdbcType=VARCHAR}
            </if>
        </where>
    </sql>

    <select id="selectVoPage" parameterType="java.util.Map" resultMap="BaseResultVoMap">
        SELECT t.* FROM drap_business_activity t
        <include refid="queryConditions"></include>
    </select>

    <select id="selectVoById" parameterType="java.lang.String" resultMap="BaseResultVoMap">
        SELECT t.* FROM drap_business_activity t WHERE t.id = #{id}
    </select>

    <select id="selectVoCount" parameterType="java.util.Map" resultType="java.lang.Integer">
        SELECT count(1) FROM drap_business_activity t
        <include refid="queryConditions"></include>
    </select>

    <insert id="baseInsert" parameterType="com.chinawiserv.dsp.dir.entity.po.drap.DrapBusinessActivity">
        insert into
        drap_business_activity(id,region_code,belong_dept,category,activity_code,handle_basis,activity_desc,activity_name,extend_code,short_name,fid,parent_guid_activity,function_keywords,is_run,service_target,legal_deploy_dept,actual_deploy_dept,is_cooperate_business,handle_condition,handle_result,validity_from,validity_end,is_in_gc,handle_method,is_open,charge_standard,handle_address,legal_time_limit,promise_time_limit,handler,handler_phone,supervise_phone,handle_online,online_address,handle_online_desc,handle_program,handle_flowsheet,year_business_volume,order_by,is_show,code_index,status,create_user_id,create_time,update_user_id,update_time,delete_flag,tree_index,tree_code)
        values(
        #{id},#{regionCode},#{belongDept},#{category},#{activityCode},#{handleBasis},#{activityDesc},#{activityName},#{extendCode},#{shortName},#{fid},#{parentGuidActivity},#{functionKeywords},#{isRun},#{serviceTarget},#{legalDeployDept},#{actualDeployDept},#{isCooperateBusiness},#{handleCondition},#{handleResult},#{validityFrom},#{validityEnd},#{isInGc},#{handleMethod},#{isOpen},#{chargeStandard},#{handleAddress},#{legalTimeLimit},#{promiseTimeLimit},#{handler},#{handlerPhone},#{supervisePhone},#{handleOnline},#{onlineAddress},#{handleOnlineDesc},#{handleProgram},#{handleFlowsheet},#{yearBusinessVolume},#{orderBy},#{isShow},#{codeIndex},#{status},#{createUserId},#{createTime},#{updateUserId},#{updateTime},#{deleteFlag},#{treeIndex},#{treeCode}
        )
    </insert>

    <update id="baseUpdate" parameterType="com.chinawiserv.dsp.dir.entity.po.drap.DrapBusinessActivity">
        update drap_business_activity
        <set>
            <if test="id != null">
                id = #{id},
            </if>
            <if test="regionCode != null">
                region_code = #{regionCode},
            </if>
            <if test="belongDept != null">
                belong_dept = #{belongDept},
            </if>
            <if test="category != null">
                category = #{category},
            </if>
            <if test="activityCode != null">
                activity_code = #{activityCode},
            </if>
            <if test="handleBasis != null">
                handle_basis = #{handleBasis},
            </if>
            <if test="activityDesc != null">
                activity_desc = #{activityDesc},
            </if>
            <if test="activityName != null">
                activity_name = #{activityName},
            </if>
            <if test="extendCode != null">
                extend_code = #{extendCode},
            </if>
            <if test="shortName != null">
                short_name = #{shortName},
            </if>
            <if test="fid != null">
                fid = #{fid},
            </if>
            <if test="parentGuidActivity != null">
                parent_guid_activity = #{parentGuidActivity},
            </if>
            <if test="functionKeywords != null">
                function_keywords = #{functionKeywords},
            </if>
            <if test="isRun != null">
                is_run = #{isRun},
            </if>
            <if test="serviceTarget != null">
                service_target = #{serviceTarget},
            </if>
            <if test="legalDeployDept != null">
                legal_deploy_dept = #{legalDeployDept},
            </if>
            <if test="actualDeployDept != null">
                actual_deploy_dept = #{actualDeployDept},
            </if>
            <if test="isCooperateBusiness != null">
                is_cooperate_business = #{isCooperateBusiness},
            </if>
            <if test="handleCondition != null">
                handle_condition = #{handleCondition},
            </if>
            <if test="handleResult != null">
                handle_result = #{handleResult},
            </if>
            <if test="validityFrom != null">
                validity_from = #{validityFrom},
            </if>
            <if test="validityEnd != null">
                validity_end = #{validityEnd},
            </if>
            <if test="isInGc != null">
                is_in_gc = #{isInGc},
            </if>
            <if test="handleMethod != null">
                handle_method = #{handleMethod},
            </if>
            <if test="isOpen != null">
                is_open = #{isOpen},
            </if>
            <if test="chargeStandard != null">
                charge_standard = #{chargeStandard},
            </if>
            <if test="handleAddress != null">
                handle_address = #{handleAddress},
            </if>
            <if test="legalTimeLimit != null">
                legal_time_limit = #{legalTimeLimit},
            </if>
            <if test="promiseTimeLimit != null">
                promise_time_limit = #{promiseTimeLimit},
            </if>
            <if test="handler != null">
                handler = #{handler},
            </if>
            <if test="handlerPhone != null">
                handler_phone = #{handlerPhone},
            </if>
            <if test="supervisePhone != null">
                supervise_phone = #{supervisePhone},
            </if>
            <if test="handleOnline != null">
                handle_online = #{handleOnline},
            </if>
            <if test="onlineAddress != null">
                online_address = #{onlineAddress},
            </if>
            <if test="handleOnlineDesc != null">
                handle_online_desc = #{handleOnlineDesc},
            </if>
            <if test="handleProgram != null">
                handle_program = #{handleProgram},
            </if>
            <if test="handleFlowsheet != null">
                handle_flowsheet = #{handleFlowsheet},
            </if>
            <if test="yearBusinessVolume != null">
                year_business_volume = #{yearBusinessVolume},
            </if>
            <if test="orderBy != null">
                order_by = #{orderBy},
            </if>
            <if test="isShow != null">
                is_show = #{isShow},
            </if>
            <if test="codeIndex != null">
                code_index = #{codeIndex},
            </if>
            <if test="status != null">
                status = #{status},
            </if>
            <if test="createUserId != null">
                create_user_id = #{createUserId},
            </if>
            <if test="createTime != null">
                create_time = #{createTime},
            </if>
            <if test="updateUserId != null">
                update_user_id = #{updateUserId},
            </if>
            <if test="updateTime != null">
                update_time = #{updateTime},
            </if>
            <if test="deleteFlag != null">
                delete_flag = #{deleteFlag},
            </if>
            <if test="treeIndex != null">
                tree_index = #{treeIndex},
            </if>
            <if test="treeCode != null">
                tree_code = #{treeCode},
            </if>
        </set>
        where id = #{id}
    </update>

    <delete id="baseDelete" parameterType="java.util.Map">
        delete from drap_business_activity
        <include refid="deleteWhereCause"/>
    </delete>

    <sql id="deleteWhereCause">
        <where>
            <if test="id != null">
                id = #{id}
            </if>
        </where>
    </sql>
    
    <insert id="batchInsertPO" parameterType="java.util.Map">
    	insert into
        drap_business_activity(id,region_code,belong_dept,category,activity_code,handle_basis,activity_desc,activity_name,extend_code,short_name,fid,parent_guid_activity,function_keywords,is_run,service_target,legal_deploy_dept,actual_deploy_dept,is_cooperate_business,handle_condition,handle_result,validity_from,validity_end,is_in_gc,handle_method,is_open,charge_standard,handle_address,legal_time_limit,promise_time_limit,handler,handler_phone,supervise_phone,handle_online,online_address,handle_online_desc,handle_program,handle_flowsheet,year_business_volume,order_by,is_show,code_index,status,create_user_id,create_time,update_user_id,update_time,delete_flag,tree_index,tree_code,auditor,audit_time,audit_opinion)
        values
        <foreach collection="list" item="item" separator=",">
        	(#{item.id},#{item.regionCode},#{item.belongDept},#{item.category},#{item.activityCode},#{item.handleBasis},#{item.activityDesc},#{item.activityName},#{item.extendCode},#{item.shortName},#{item.fid},#{item.parentGuidActivity},#{item.functionKeywords},#{item.isRun},#{item.serviceTarget},#{item.legalDeployDept},#{item.actualDeployDept},#{item.isCooperateBusiness},#{item.handleCondition},#{item.handleResult},#{item.validityFrom},#{item.validityEnd},#{item.isInGc},#{item.handleMethod},#{item.isOpen},#{item.chargeStandard},#{item.handleAddress},#{item.legalTimeLimit},#{item.promiseTimeLimit},#{item.handler},#{item.handlerPhone},#{item.supervisePhone},#{item.handleOnline},#{item.onlineAddress},#{item.handleOnlineDesc},#{item.handleProgram},#{item.handleFlowsheet},#{item.yearBusinessVolume},#{item.orderBy},#{item.isShow},#{item.codeIndex},#{item.status},#{item.createUserId},#{item.createTime},#{item.updateUserId},#{item.updateTime},#{item.deleteFlag},#{item.treeIndex},#{item.treeCode},
        	#{item.auditor},#{item.auditTime},#{item.auditOpinion})
        </foreach>
    </insert>


</mapper>
